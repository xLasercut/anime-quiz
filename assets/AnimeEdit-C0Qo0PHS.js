import{d as N,u as L,f as p,c as I,w as n,g as m,p as s,a9 as P,aa as V,h as C,ab as T,B as y,i as O,C as B,a4 as g,r as k,Y as x,L as D,a7 as U,F as $,G,H as R,m as w,a2 as c,a3 as F,a5 as H,a6 as j,a8 as S,D as v,j as h,ac as q,n as z,t as W,V as Y}from"./index-DnoG31dZ.js";import{_ as J}from"./TableAction.vue_vue_type_script_setup_true_lang-DLeRF5Dp.js";const K=N({__name:"AnimeEditTableFilters",props:{animeId:{required:!0,type:String},animeName:{required:!0,type:String}},emits:["update:anime-id","update:anime-name"],setup(_,{emit:E}){const r=E,A=L(),f=T(a=>{r("update:anime-id",a)},100),l=T(a=>{r("update:anime-name",a)},100);return(a,i)=>(p(),I(C,{dense:!0},{default:n(()=>[m(P,{label:"Anime ID","model-value":_.animeId,"onUpdate:modelValue":i[0]||(i[0]=u=>s(f)(u))},null,8,["model-value"]),m(V,{label:"Anime Name",items:s(A).animeNames,"model-value":_.animeName,"onUpdate:modelValue":i[1]||(i[1]=u=>s(l)(u))},null,8,["items","model-value"])]),_:1}))}}),Q=N({__name:"AnimeEditTable",setup(_){const E=L(),r=y(),A=O(B.OPEN_DIALOG),f=[{title:"Anime ID",key:"animeId",sortable:!1},{title:"Anime Names",key:"animeName",sortable:!1},{title:"Action",key:"action",sortable:!1,width:g.TABLE_ACTION_WIDTH}],l=k({animeId:"",animeName:""}),{currentPage:a,itemsPerPage:i}=x(D.ANIME_EDIT_TABLE_ITEMS_PER_PAGE),u=U(()=>E.animeList.filter(d=>d.animeId.includes(l.value.animeId)&&j(l.value.animeName,d.animeName.join(","))));function M(d){r.updateAnimeInEdit(d),r.updateEditMode(S.EDIT),A(v.ANIME_EDIT,"Edit Anime")}function b(d){r.updateAnimeInEdit(d),r.updateEditMode(S.DELETE),A(v.ANIME_EDIT,"Delete Anime")}return(d,t)=>(p(),I(H,{density:"compact","fixed-header":!0,"fixed-footer":!0,items:u.value,headers:f,page:s(a),"onUpdate:page":t[4]||(t[4]=e=>c(a)?a.value=e:null),"items-per-page":s(i),height:s(g).ADMIN_TABLE_HEIGHT,"no-filter":!0},{"item.animeName":n(({item:e})=>[m(C,{dense:!0},{default:n(()=>[(p(!0),$(R,null,G(e.animeName,o=>(p(),I(h,{cols:"auto"},{default:n(()=>[m(q,{color:"primary",size:"small",label:!0},{default:n(()=>[z(W(o),1)]),_:2},1024)]),_:2},1024))),256))]),_:2},1024)]),"item.action":n(({item:e})=>[m(J,{"onItem:edit":o=>M(e),"onItem:delete":o=>b(e)},null,8,["onItem:edit","onItem:delete"])]),top:n(()=>[m(w,{fluid:!0},{default:n(()=>[m(K,{"anime-id":l.value.animeId,"onUpdate:animeId":t[0]||(t[0]=e=>l.value.animeId=e),"anime-idModifiers":{trim:!0},"anime-name":l.value.animeName,"onUpdate:animeName":t[1]||(t[1]=e=>l.value.animeName=e),"anime-nameModifiers":{trim:!0}},null,8,["anime-id","anime-name"])]),_:1})]),bottom:n(({pageCount:e})=>[m(F,{"current-page":s(a),"onUpdate:currentPage":t[2]||(t[2]=o=>c(a)?a.value=o:null),"items-per-page":s(i),"onUpdate:itemsPerPage":t[3]||(t[3]=o=>c(i)?i.value=o:null),length:e,"local-storage-key":s(D).ANIME_EDIT_TABLE_ITEMS_PER_PAGE},null,8,["current-page","items-per-page","length","local-storage-key"])]),_:1},8,["items","page","items-per-page","height"]))}}),ee=N({__name:"AnimeEdit",setup(_){return(E,r)=>(p(),I(Y,{variant:"flat"},{default:n(()=>[m(Q)]),_:1}))}});export{ee as default};
