import{d as y,f as D,c as U,w as n,g as l,p as i,a9 as f,h as b,ab as c,u as C,B as P,i as O,C as R,a4 as v,r as V,Y as k,L as S,a7 as M,aw as x,n as B,t as $,m as w,a2 as T,a3 as G,a5 as q,a8 as g,D as N,s as H,S as j,V as F}from"./index-CfBULS3w.js";import{_ as K}from"./TableAction.vue_vue_type_script_setup_true_lang-KkVr8t3S.js";const W=y({__name:"UserEditTableFilters",props:{discordId:{type:String,required:!0},userId:{type:String,required:!0},displayName:{type:String,required:!0}},emits:["update:discord-id","update:user-id","update:display-name"],setup(m,{emit:E}){const r=E,I=c(a=>{r("update:discord-id",a)},100),_=c(a=>{r("update:user-id",a)},100),s=c(a=>{r("update:display-name",a)},100);return(a,d)=>(D(),U(b,{dense:!0},{default:n(()=>[l(f,{label:"Discord ID","model-value":m.discordId,"onUpdate:modelValue":d[0]||(d[0]=u=>i(I)(u))},null,8,["model-value"]),l(f,{label:"User ID","model-value":m.userId,"onUpdate:modelValue":d[1]||(d[1]=u=>i(_)(u))},null,8,["model-value"]),l(f,{label:"Display Name","model-value":m.displayName,"onUpdate:modelValue":d[2]||(d[2]=u=>i(s)(u))},null,8,["model-value"])]),_:1}))}}),Y=y({__name:"UserEditTable",setup(m){const E=C(),r=P(),I=O(R.OPEN_DIALOG),_=[{title:"Discord ID",key:"discordId",sortable:!1},{title:"User ID",key:"userId",sortable:!1},{title:"Display Name",key:"displayName",sortable:!1},{title:"Avatar",key:"avatar",sortable:!1},{title:"Admin",key:"admin",sortable:!1},{title:"Action",key:"action",sortable:!1,width:v.TABLE_ACTION_WIDTH}],s=V({discordId:"",userId:"",displayName:""}),{currentPage:a,itemsPerPage:d}=k(S.USER_EDIT_TABLE_ITEMS_PER_PAGE),u=M(()=>E.userList.filter(o=>o.discordId.includes(s.value.discordId)&&o.userId.includes(s.value.userId)&&o.displayName.toLowerCase().includes(s.value.displayName.toLowerCase())));function A(o){r.updateUserInEdit(o),r.updateEditMode(g.EDIT),I(N.USER_EDIT,"Edit User")}function L(o){r.updateUserInEdit(o),r.updateEditMode(g.DELETE),I(N.USER_EDIT,"Delete User")}return(o,t)=>(D(),U(q,{density:"compact","fixed-header":!0,"fixed-footer":!0,items:u.value,headers:_,page:i(a),"onUpdate:page":t[5]||(t[5]=e=>T(a)?a.value=e:null),"items-per-page":i(d),height:i(v).ADMIN_TABLE_HEIGHT,"no-filter":!0},{"item.avatar":n(({item:e})=>[l(x,{avatar:e.avatar},null,8,["avatar"])]),"item.admin":n(({item:e})=>[B($(e.admin),1)]),"item.action":n(({item:e})=>[l(K,{"onItem:edit":p=>A(e),"onItem:delete":p=>L(e)},null,8,["onItem:edit","onItem:delete"])]),top:n(()=>[l(w,{fluid:!0},{default:n(()=>[l(W,{"discord-id":s.value.discordId,"onUpdate:discordId":t[0]||(t[0]=e=>s.value.discordId=e),"discord-idModifiers":{trim:!0},"user-id":s.value.userId,"onUpdate:userId":t[1]||(t[1]=e=>s.value.userId=e),"user-idModifiers":{trim:!0},"display-name":s.value.displayName,"onUpdate:displayName":t[2]||(t[2]=e=>s.value.displayName=e),"display-nameModifiers":{trim:!0}},null,8,["discord-id","user-id","display-name"])]),_:1})]),bottom:n(({pageCount:e})=>[l(G,{"current-page":i(a),"onUpdate:currentPage":t[3]||(t[3]=p=>T(a)?a.value=p:null),"items-per-page":i(d),"onUpdate:itemsPerPage":t[4]||(t[4]=p=>T(d)?d.value=p:null),length:e,"local-storage-key":i(S).USER_EDIT_TABLE_ITEMS_PER_PAGE},null,8,["current-page","items-per-page","length","local-storage-key"])]),_:1},8,["items","page","items-per-page","height"]))}}),Q=y({__name:"UserEdit",setup(m){return H.emit(j.UPDATE_STORE_USER_LIST),(E,r)=>(D(),U(F,{variant:"flat"},{default:n(()=>[l(Y)]),_:1}))}});export{Q as default};
