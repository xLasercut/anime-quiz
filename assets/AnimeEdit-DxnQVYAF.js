import{d as N,u as L,c as I,e as p,g as M,w as n,f as m,a9 as P,m as s,aa as T,ab as V,B as y,$ as g,r as O,Y as k,L as D,a7 as B,a5 as $,Z as x,a0 as c,a1 as U,k as G,E as R,F as w,G as F,p as q,a8 as S,D as v,h as H,ac as h,l as j,t as z,q as W,V as Y}from"./index-DzYDZPMj.js";import{_ as Z}from"./TableAction.vue_vue_type_script_setup_true_lang-C7laDV8b.js";const J=N({__name:"AnimeEditTableFilters",props:{animeId:{required:!0,type:String},animeName:{required:!0,type:String}},emits:["update:anime-id","update:anime-name"],setup(_,{emit:E}){const r=E,A=L(),f=T(a=>{r("update:anime-id",a)},100),l=T(a=>{r("update:anime-name",a)},100);return(a,i)=>(p(),I(M,{dense:!0},{default:n(()=>[m(P,{label:"Anime ID","model-value":_.animeId,"onUpdate:modelValue":i[0]||(i[0]=u=>s(f)(u))},null,8,["model-value"]),m(V,{label:"Anime Name",items:s(A).animeNames,"model-value":_.animeName,"onUpdate:modelValue":i[1]||(i[1]=u=>s(l)(u))},null,8,["items","model-value"])]),_:1}))}}),K=N({__name:"AnimeEditTable",setup(_){const E=L(),r=y(),A=q(W.OPEN_DIALOG),f=[{title:"Anime ID",key:"animeId",sortable:!1},{title:"Anime Names",key:"animeName",sortable:!1},{title:"Action",key:"action",sortable:!1,width:g.TABLE_ACTION_WIDTH}],l=O({animeId:"",animeName:""}),{currentPage:a,itemsPerPage:i}=k(D.ANIME_EDIT_TABLE_ITEMS_PER_PAGE),u=B(()=>E.animeList.filter(d=>d.animeId.includes(l.value.animeId)&&$(l.value.animeName,d.animeName.join(","))));function b(d){r.updateAnimeInEdit(d),r.updateEditMode(S.EDIT),A(v.ANIME_EDIT,"Edit Anime")}function C(d){r.updateAnimeInEdit(d),r.updateEditMode(S.DELETE),A(v.ANIME_EDIT,"Delete Anime")}return(d,t)=>(p(),I(x,{density:"compact","fixed-header":!0,"fixed-footer":!0,items:u.value,headers:f,page:s(a),"onUpdate:page":t[4]||(t[4]=e=>c(a)?a.value=e:null),"items-per-page":s(i),height:s(g).ADMIN_TABLE_HEIGHT,"no-filter":!0},{"item.animeName":n(({item:e})=>[m(M,{dense:!0},{default:n(()=>[(p(!0),R(F,null,w(e.animeName,o=>(p(),I(H,{cols:"auto"},{default:n(()=>[m(h,{color:"primary",size:"small",label:!0},{default:n(()=>[j(z(o),1)]),_:2},1024)]),_:2},1024))),256))]),_:2},1024)]),"item.action":n(({item:e})=>[m(Z,{"onItem:edit":o=>b(e),"onItem:delete":o=>C(e)},null,8,["onItem:edit","onItem:delete"])]),top:n(()=>[m(G,{fluid:!0},{default:n(()=>[m(J,{"anime-id":l.value.animeId,"onUpdate:animeId":t[0]||(t[0]=e=>l.value.animeId=e),"anime-idModifiers":{trim:!0},"anime-name":l.value.animeName,"onUpdate:animeName":t[1]||(t[1]=e=>l.value.animeName=e),"anime-nameModifiers":{trim:!0}},null,8,["anime-id","anime-name"])]),_:1})]),bottom:n(({pageCount:e})=>[m(U,{"current-page":s(a),"onUpdate:currentPage":t[2]||(t[2]=o=>c(a)?a.value=o:null),"items-per-page":s(i),"onUpdate:itemsPerPage":t[3]||(t[3]=o=>c(i)?i.value=o:null),length:e,"local-storage-key":s(D).ANIME_EDIT_TABLE_ITEMS_PER_PAGE},null,8,["current-page","items-per-page","length","local-storage-key"])]),_:1},8,["items","page","items-per-page","height"]))}}),ee=N({__name:"AnimeEdit",setup(_){return(E,r)=>(p(),I(Y,{variant:"flat"},{default:n(()=>[m(K)]),_:1}))}});export{ee as default};
