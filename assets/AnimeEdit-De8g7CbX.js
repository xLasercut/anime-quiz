import{d as N,u as L,e as p,c as I,w as n,f as m,m as s,ab as P,ac as V,g as M,ad as T,B as y,i as O,a6 as g,r as k,$ as B,L as D,a9 as $,F as x,G as U,H as G,k as R,a4 as c,a5 as w,a7 as F,q as H,a8 as q,aa as S,D as v,h,ae as j,l as z,t as W,V as J}from"./index-BT2ZsoMq.js";import{_ as K}from"./TableAction.vue_vue_type_script_setup_true_lang-D20ULICV.js";const Q=N({__name:"AnimeEditTableFilters",props:{animeId:{required:!0,type:String},animeName:{required:!0,type:String}},emits:["update:anime-id","update:anime-name"],setup(_,{emit:E}){const r=E,A=L(),f=T(a=>{r("update:anime-id",a)},100),l=T(a=>{r("update:anime-name",a)},100);return(a,i)=>(p(),I(M,{dense:!0},{default:n(()=>[m(P,{label:"Anime ID","model-value":_.animeId,"onUpdate:modelValue":i[0]||(i[0]=u=>s(f)(u))},null,8,["model-value"]),m(V,{label:"Anime Name",items:s(A).animeNames,"model-value":_.animeName,"onUpdate:modelValue":i[1]||(i[1]=u=>s(l)(u))},null,8,["items","model-value"])]),_:1}))}}),X=N({__name:"AnimeEditTable",setup(_){const E=L(),r=y(),A=O(H.OPEN_DIALOG),f=[{title:"Anime ID",key:"animeId",sortable:!1},{title:"Anime Names",key:"animeName",sortable:!1},{title:"Action",key:"action",sortable:!1,width:g.TABLE_ACTION_WIDTH}],l=k({animeId:"",animeName:""}),{currentPage:a,itemsPerPage:i}=B(D.ANIME_EDIT_TABLE_ITEMS_PER_PAGE),u=$(()=>E.animeList.filter(d=>d.animeId.includes(l.value.animeId)&&q(l.value.animeName,d.animeName.join(","))));function b(d){r.updateAnimeInEdit(d),r.updateEditMode(S.EDIT),A(v.ANIME_EDIT,"Edit Anime")}function C(d){r.updateAnimeInEdit(d),r.updateEditMode(S.DELETE),A(v.ANIME_EDIT,"Delete Anime")}return(d,t)=>(p(),I(F,{density:"compact","fixed-header":!0,"fixed-footer":!0,items:u.value,headers:f,page:s(a),"onUpdate:page":t[4]||(t[4]=e=>c(a)?a.value=e:null),"items-per-page":s(i),height:s(g).ADMIN_TABLE_HEIGHT,"no-filter":!0},{"item.animeName":n(({item:e})=>[m(M,{dense:!0},{default:n(()=>[(p(!0),x(G,null,U(e.animeName,o=>(p(),I(h,{cols:"auto"},{default:n(()=>[m(j,{color:"primary",size:"small",label:!0},{default:n(()=>[z(W(o),1)]),_:2},1024)]),_:2},1024))),256))]),_:2},1024)]),"item.action":n(({item:e})=>[m(K,{"onItem:edit":o=>b(e),"onItem:delete":o=>C(e)},null,8,["onItem:edit","onItem:delete"])]),top:n(()=>[m(R,{fluid:!0},{default:n(()=>[m(Q,{"anime-id":l.value.animeId,"onUpdate:animeId":t[0]||(t[0]=e=>l.value.animeId=e),"anime-idModifiers":{trim:!0},"anime-name":l.value.animeName,"onUpdate:animeName":t[1]||(t[1]=e=>l.value.animeName=e),"anime-nameModifiers":{trim:!0}},null,8,["anime-id","anime-name"])]),_:1})]),bottom:n(({pageCount:e})=>[m(w,{"current-page":s(a),"onUpdate:currentPage":t[2]||(t[2]=o=>c(a)?a.value=o:null),"items-per-page":s(i),"onUpdate:itemsPerPage":t[3]||(t[3]=o=>c(i)?i.value=o:null),length:e,"local-storage-key":s(D).ANIME_EDIT_TABLE_ITEMS_PER_PAGE},null,8,["current-page","items-per-page","length","local-storage-key"])]),_:1},8,["items","page","items-per-page","height"]))}}),ee=N({__name:"AnimeEdit",setup(_){return(E,r)=>(p(),I(J,{variant:"flat"},{default:n(()=>[m(X)]),_:1}))}});export{ee as default};
