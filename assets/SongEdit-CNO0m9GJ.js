import{d as c,u as k,B as C,$ as p,Y as G,L as f,r as S,a7 as b,a5 as m,c as N,e as y,Z as B,m as r,a0 as _,w as s,f as l,a1 as U,i as I,t as $,k as M,a2 as V,a4 as w,p as R,a8 as v,D as A,q as H,a6 as j,V as W}from"./index-CxRyR6Hx.js";import{_ as Y}from"./TableAction.vue_vue_type_script_setup_true_lang-6uv_acRn.js";import{_ as h}from"./TableSrc.vue_vue_type_script_setup_true_lang-BLlFwkIH.js";const q=["colspan"],F=c({__name:"SongEditTable",setup(D){const E=k(),u=C(),g=R(H.OPEN_DIALOG),O=[{title:"Anime",key:"animeName",sortable:!1},{title:"Title",key:"songTitle",sortable:!1},{title:"Artist",key:"artist",sortable:!1},{title:"Type",key:"type",sortable:!1},{title:"Source",key:"src",sortable:!1,width:p.TABLE_ACTION_WIDTH},{title:"Action",key:"action",sortable:!1,width:p.TABLE_ACTION_WIDTH}],{currentPage:o,itemsPerPage:d}=G(f.SONG_EDIT_TABLE_ITEMS_PER_PAGE),a=S({anime:"",type:Object.values(j),title:"",artist:""}),T=S([]);function L(n){u.updateSongInEdit(n),u.updateEditMode(v.EDIT),g(A.SONG_EDIT,"Edit Song")}function P(n){u.updateSongInEdit(n),u.updateEditMode(v.DELETE),g(A.SONG_EDIT,"Delete Song")}const x=b(()=>E.songList.filter(n=>m(a.value.anime,n.animeName.join(","))&&m(a.value.title,n.songTitle)&&m(a.value.artist,n.artist)&&a.value.type.includes(n.type)));return(n,t)=>(y(),N(B,{density:"compact","fixed-header":!0,"fixed-footer":!0,"show-expand":!0,items:x.value,headers:O,page:r(o),"onUpdate:page":t[6]||(t[6]=e=>_(o)?o.value=e:null),expanded:T.value,"onUpdate:expanded":t[7]||(t[7]=e=>T.value=e),"items-per-page":r(d),height:r(p).ADMIN_TABLE_HEIGHT,"item-value":"songId","no-filter":!0},{"item.animeName":s(({item:e})=>[l(w,{song:e},null,8,["song"])]),"item.src":s(({item:e})=>[l(h,{song:e},null,8,["song"])]),"item.action":s(({item:e})=>[l(Y,{"onItem:edit":i=>L(e),"onItem:delete":i=>P(e)},null,8,["onItem:edit","onItem:delete"])]),top:s(()=>[l(M,{fluid:!0},{default:s(()=>[l(V,{anime:a.value.anime,"onUpdate:anime":t[0]||(t[0]=e=>a.value.anime=e),title:a.value.title,"onUpdate:title":t[1]||(t[1]=e=>a.value.title=e),artist:a.value.artist,"onUpdate:artist":t[2]||(t[2]=e=>a.value.artist=e),type:a.value.type,"onUpdate:type":t[3]||(t[3]=e=>a.value.type=e)},null,8,["anime","title","artist","type"])]),_:1})]),"expanded-row":s(({columns:e,item:i})=>[I("tr",null,[I("td",{colspan:e.length},$(i),9,q)])]),bottom:s(({pageCount:e})=>[l(U,{"current-page":r(o),"onUpdate:currentPage":t[4]||(t[4]=i=>_(o)?o.value=i:null),"items-per-page":r(d),"onUpdate:itemsPerPage":t[5]||(t[5]=i=>_(d)?d.value=i:null),length:e,"local-storage-key":r(f).SONG_EDIT_TABLE_ITEMS_PER_PAGE},null,8,["current-page","items-per-page","length","local-storage-key"])]),_:1},8,["items","page","expanded","items-per-page","height"]))}}),K=c({__name:"SongEdit",setup(D){return(E,u)=>(y(),N(W,{variant:"flat"},{default:s(()=>[l(F)]),_:1}))}});export{K as default};
