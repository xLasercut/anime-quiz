import{d as c,f as S,c as v,w as i,g as r,p as o,a9 as _,h as O,ab as T,u as b,B as y,i as N,C as U,a4 as A,Y as P,L as M,r as k,a7 as G,aw as V,m as x,a2 as f,a3 as $,a5 as w,a8 as D,D as B,s as R,S as q,V as H}from"./index-CfBULS3w.js";import{_ as j}from"./TableAction.vue_vue_type_script_setup_true_lang-KkVr8t3S.js";const F=c({__name:"BotMessageEditTableFilters",props:{messageId:{Type:String,required:!0},userId:{Type:String,required:!0},command:{Type:String,required:!0}},emits:["update:message-id","update:user-id","update:command"],setup(m,{emit:E}){const d=E,g=T(s=>{d("update:message-id",s)},100),I=T(s=>{d("update:user-id",s)},100),n=T(s=>{d("update:command",s)},100);return(s,e)=>(S(),v(O,{dense:!0},{default:i(()=>[r(_,{"model-value":m.messageId,"onUpdate:modelValue":e[0]||(e[0]=u=>o(g)(u)),label:"Message ID"},null,8,["model-value"]),r(_,{"model-value":m.userId,"onUpdate:modelValue":e[1]||(e[1]=u=>o(I)(u)),label:"User ID"},null,8,["model-value"]),r(_,{"model-value":m.command,"onUpdate:modelValue":e[2]||(e[2]=u=>o(n)(u)),label:"Command"},null,8,["model-value"])]),_:1}))}}),K=c({__name:"BotMessageEditTable",setup(m){const E=b(),d=y(),g=N(U.OPEN_DIALOG),I=[{title:"Message ID",key:"messageId",sortable:!1},{title:"User ID",key:"userId",sortable:!1},{title:"Command",key:"command",sortable:!1},{title:"Display Name",key:"displayName",sortable:!1},{title:"Avatar",key:"avatar",sortable:!1},{title:"Text",key:"text",sortable:!1},{title:"Action",key:"action",sortable:!1,width:A.TABLE_ACTION_WIDTH}],{currentPage:n,itemsPerPage:s}=P(M.BOT_MESSAGE_EDIT_TABLE_ITEMS_PER_PAGE),e=k({messageId:"",userId:"",command:""});function u(l){d.updateBotMessageInEdit(l),d.updateEditMode(D.EDIT),g(B.BOT_MESSAGE_EDIT,"Edit Bot Message")}function C(l){d.updateBotMessageInEdit(l),d.updateEditMode(D.DELETE),g(B.BOT_MESSAGE_EDIT,"Delete Bot Message")}const L=G(()=>E.botMessageList.filter(l=>l.messageId.includes(e.value.messageId)&&l.command.toLowerCase().includes(e.value.command.toLowerCase())&&l.userId.includes(e.value.userId)));return(l,t)=>(S(),v(w,{density:"compact","fixed-header":!0,"fixed-footer":!0,headers:I,items:L.value,page:o(n),"onUpdate:page":t[5]||(t[5]=a=>f(n)?n.value=a:null),"items-per-page":o(s),height:o(A).ADMIN_TABLE_HEIGHT,"no-filter":!0},{"item.avatar":i(({item:a})=>[r(V,{avatar:a.avatar},null,8,["avatar"])]),"item.action":i(({item:a})=>[r(j,{"onItem:edit":p=>u(a),"onItem:delete":p=>C(a)},null,8,["onItem:edit","onItem:delete"])]),top:i(()=>[r(x,{fluid:!0},{default:i(()=>[r(F,{"message-id":e.value.messageId,"onUpdate:messageId":t[0]||(t[0]=a=>e.value.messageId=a),"message-idModifiers":{trim:!0},"user-id":e.value.userId,"onUpdate:userId":t[1]||(t[1]=a=>e.value.userId=a),"user-idModifiers":{trim:!0},command:e.value.command,"onUpdate:command":t[2]||(t[2]=a=>e.value.command=a)},null,8,["message-id","user-id","command"])]),_:1})]),bottom:i(({pageCount:a})=>[r($,{"current-page":o(n),"onUpdate:currentPage":t[3]||(t[3]=p=>f(n)?n.value=p:null),"items-per-page":o(s),"onUpdate:itemsPerPage":t[4]||(t[4]=p=>f(s)?s.value=p:null),length:a,"local-storage-key":o(M).BOT_MESSAGE_EDIT_TABLE_ITEMS_PER_PAGE},null,8,["current-page","items-per-page","length","local-storage-key"])]),_:1},8,["items","page","items-per-page","height"]))}}),z=c({__name:"BotMessageEdit",setup(m){return R.emit(q.UPDATE_STORE_BOT_MESSAGE_LIST),(E,d)=>(S(),v(H,{variant:"flat"},{default:i(()=>[r(K)]),_:1}))}});export{z as default};
