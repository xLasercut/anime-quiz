import{d as E,u as K,r as f,Q as B,e as v,c as S,w as l,f as o,aN as Ge,aq as Te,aO as F,K as V,aP as te,F as U,G as x,H as k,aQ as Me,A as ge,aR as P,s as e,S as t,aS as b,ax as Oe,aT as Ne,l as h,t as y,a9 as L,p as w,ay as ae,U as Y,aU as z,I as O,aV as ye,av as N,n as we,z as he,m as M,a6 as We,V as ne,h as G,aW as Z,aX as oe,at as W,aY as D,k as Ie,g,aZ as se,a_ as j,a$ as Ce,b0 as X,y as ee,aI as q,aJ as Q,b1 as le,a as ue,Y as re,Z as ie,_ as J}from"./index-BAK_NbG2.js";const Ue=E({__name:"MainGameChatInput",setup(c){const s=new RegExp("(:)(?:[^:]+)$","ig"),a=K(),n=f(""),u=f(!1),m=f(a.emojiList),r=f(0);B(()=>n.value,p=>{if(!p){u.value=!1;return}const d=p.match(s);if(!d){u.value=!1;return}const T=d[0];m.value=a.emojiList.filter($=>`:${$.command.toLowerCase()}:`.includes(T.toLowerCase()));const A=m.value.length;if(A===0){u.value=!1;return}if(A!==r.value){r.value=A,u.value=!1,P(()=>{u.value=!0});return}u.value=!0});function i(p){var d;n.value=n.value.replace(s,`:${p}:`),r.value=0,u.value=!1,(d=document.getElementById("chat-input"))==null||d.focus()}function _(){n.value&&(e.emit(t.SEND_GAME_CHAT,n.value),n.value="")}return(p,d)=>(v(),S(ge,null,{default:l(()=>[o(Me,{modelValue:u.value,"onUpdate:modelValue":d[3]||(d[3]=T=>u.value=T),location:"top","max-height":"304px",contained:!0,"open-on-click":!1,"open-on-focus":!1,"open-on-hover":!1},{activator:l(({props:T})=>[o(Ge,Te({"no-resize":"",modelValue:n.value,"onUpdate:modelValue":d[0]||(d[0]=A=>n.value=A),modelModifiers:{trim:!0},"hide-details":"",label:"Message","append-inner-icon":"mdi-send",variant:"filled","max-rows":"3",clearable:!0,"onClick:appendInner":d[1]||(d[1]=A=>_())},T,{id:"chat-input",onKeydown:d[2]||(d[2]=F(V(A=>_(),["prevent"]),["enter"]))}),null,16,["modelValue"])]),default:l(()=>[o(te,null,{default:l(()=>[(v(!0),U(k,null,x(m.value,T=>(v(),S(b,{value:T.command,onClick:A=>i(T.command)},{prepend:l(()=>[o(Oe,{emoji:T},null,8,["emoji"])]),default:l(()=>[o(Ne,null,{default:l(()=>[h(y(`:${T.command}:`),1)]),_:2},1024)]),_:2},1032,["value","onClick"]))),256))]),_:1})]),_:1},8,["modelValue"])]),_:1}))}}),De={class:"avatar-container"},$e={class:"text-container"},He=["innerHTML"],Le=E({__name:"MainGameChatMessage",props:{message:{required:!0,type:Object}},setup(c){const s=K(),a=c,n=L(()=>{const r=["chat-username"];return a.message.admin&&r.push("admin"),r.join(" ")}),u=L(()=>{const r=["message-row"];return a.message.repeat&&r.push("repeat-message-row"),r.join(" ")});function m(){let r=a.message.text;for(const i of s.emojiList){const _=new RegExp(`:${i.command}:`,"gi"),p=i.type,d=i.src;p==="img"?r=r.replace(_,`<img src="${d}" class="emoji" />`):p==="dec"&&(r=r.replace(_,d))}return r}return(r,i)=>(v(),U("div",{class:z(u.value)},[w("div",De,[c.message.repeat?Y("",!0):(v(),S(ae,{key:0,avatar:c.message.avatar},null,8,["avatar"]))]),w("div",$e,[c.message.repeat?Y("",!0):(v(),U("div",{key:0,class:z(n.value)},[w("b",null,y(c.message.displayName),1)],2)),w("div",{class:"chat-text",innerHTML:m()},null,8,He)])],2))}}),Re=O(Le,[["__scopeId","data-v-371bc247"]]),Ve={class:"chat-message-container"},Pe=E({__name:"MainGameChat",setup(c){const s=f([]);return e.on(t.UPDATE_GAME_CHAT,a=>{const n=ye.parse(a);s.value.length>100&&s.value.splice(0,1),s.value.length>0&&n.userId===s.value[s.value.length-1].userId&&(n.repeat=!0),s.value.push(n),P(()=>{const u=document.querySelector(".chat-message-container");u&&(u.scrollTop=u.scrollHeight-u.clientHeight)})}),N(()=>{e.off(t.UPDATE_GAME_CHAT)}),(a,n)=>(v(),S(G,{cols:"5",sm:"4"},{default:l(()=>[o(ne,{variant:"flat",height:M(We).PAGE_HEIGHT},{default:l(()=>[o(we,null,{default:l(()=>[w("div",Ve,[(v(!0),U(k,null,x(s.value,u=>(v(),S(Re,{message:u},null,8,["message"]))),256))])]),_:1}),o(he),o(Ue)]),_:1},8,["height"])]),_:1}))}}),be=O(Pe,[["__scopeId","data-v-67460535"]]),xe=E({__name:"GameTooltip",props:{location:{type:String,default:()=>"top"},modelValue:{type:Boolean,default:()=>!1},openOnHover:{type:Boolean,default:()=>!0},width:{type:String,default:()=>""}},emits:["update:modelValue"],setup(c,{emit:s}){const a=c,n=s,u=f(a.modelValue);B(()=>a.modelValue,_=>{u.value=_}),B(()=>u.value,_=>{n("update:modelValue",_)});const m=L(()=>{const _=["game-tooltip-content",`tooltip-content-${a.location}`];return u.value?_.push("tooltip-content-show"):_.push("tooltip-content-hidden"),_.join(" ")});function r(){return a.width?{width:a.width}:{}}function i(_){a.openOnHover&&(u.value=_)}return(_,p)=>(v(),U("div",{class:"game-tooltip",onMouseover:p[0]||(p[0]=d=>i(!0)),onMouseleave:p[1]||(p[1]=d=>i(!1))},[Z(_.$slots,"activator",{},void 0,!0),w("div",{class:z(m.value),style:oe(r())},[Z(_.$slots,"default",{},void 0,!0)],6)],32))}}),_e=O(xe,[["__scopeId","data-v-01d52f5e"]]),ke=E({__name:"MainAnswerAnswerDisplay",setup(c){const s=W();return(a,n)=>(v(),S(_e,{location:"bottom","open-on-hover":!0,width:"100%"},{activator:l(()=>[o(D,{class:"main-game-answer-container"},{default:l(()=>[h(y(M(s).currentSong.animeName[0]),1)]),_:1})]),default:l(()=>[o(D,{class:"alt-name-container"},{default:l(()=>[o(Ie,{fluid:!0},{default:l(()=>[(v(!0),U(k,null,x(M(s).currentSong.animeName,u=>(v(),S(g,{dense:!0},{default:l(()=>[o(G,{cols:"auto"},{default:l(()=>[h(y(u),1)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})]),_:1}))}}),je=O(ke,[["__scopeId","data-v-cc42786b"]]),Be={};function Fe(c,s){return v(),S(D,{class:"answer-container"},{default:l(()=>[h("?")]),_:1})}const ze=O(Be,[["render",Fe],["__scopeId","data-v-e3b215c4"]]),Ke=E({__name:"MainAnswerHintDisplay",setup(c){const s=W();return(a,n)=>(v(),S(D,{class:"main-game-answer-container hint-answer-container"},{default:l(()=>[h(y(M(se)(M(s).currentSong.animeName[0])),1)]),_:1}))}}),qe=O(Ke,[["__scopeId","data-v-57ca4b73"]]),Qe=E({__name:"MainGameWindowAnswerDisplay",setup(c){const s=W(),a=f(!1),n=f(!1);e.on(t.GAME_SHOW_LIFE_LINE,m=>{j.parse(m)==="ANIME_HINT"&&(n.value=!0)}),e.on(t.GAME_NEW_ROUND,()=>{a.value=!1,n.value=!1}),e.on(t.GAME_SHOW_GUESS,()=>{a.value=!0,n.value=!1}),e.on(t.STOP_GAME,()=>{n.value=!1});function u(){return n.value?qe:a.value?je:ze}return N(()=>{e.off(t.GAME_NEW_ROUND),e.off(t.GAME_SHOW_GUESS),e.off(t.GAME_SHOW_LIFE_LINE),e.off(t.STOP_GAME)}),(m,r)=>(v(),S(g,null,{default:l(()=>[o(G,{cols:"12"},{default:l(()=>[o(g,{"no-gutters":"",justify:"center"},{default:l(()=>[o(G,{cols:"5",sm:"3",md:"2"},{default:l(()=>[o(D,{class:"count-container"},{default:l(()=>[h(y(M(s).currentSongCount)+" / "+y(M(s).maxSongCount),1)]),_:1})]),_:1})]),_:1}),o(g,{"no-gutters":"",justify:"center"},{default:l(()=>[o(G,{cols:"12",sm:"8",md:"6",lg:"5"},{default:l(()=>[(v(),S(Ce(u())))]),_:1})]),_:1})]),_:1})]),_:1}))}}),Je=O(Qe,[["__scopeId","data-v-8e3016d1"]]),Ye=E({__name:"MainGameWindowGuessInput",setup(c){const s=K(),a=W(),n=f(!0),u=f({anime:"",title:""});function m(){const r={anime:u.value.anime.trim(),title:u.value.title.trim()};e.emit(t.GAME_EDIT_GUESS,r)}return e.on(t.GAME_NEW_ROUND,()=>{n.value=!0,a.updateGameGuess({anime:"",title:""}),u.value.anime="",u.value.title=""}),e.on(t.GAME_START_LOAD,()=>{n.value=!0}),e.on(t.GAME_START_COUNTDOWN,()=>{n.value=!1}),e.on(t.GAME_SHOW_GUESS,()=>{n.value=!0}),e.on(t.STOP_GAME,()=>{n.value=!0}),N(()=>{e.off(t.GAME_NEW_ROUND),e.off(t.GAME_START_LOAD),e.off(t.GAME_START_COUNTDOWN),e.off(t.GAME_SHOW_GUESS),e.off(t.STOP_GAME)}),(r,i)=>(v(),S(g,null,{default:l(()=>[o(G,{cols:"12",sm:"6"},{default:l(()=>[o(X,{label:"Anime",items:M(s).animeNames,modelValue:u.value.anime,"onUpdate:modelValue":i[0]||(i[0]=_=>u.value.anime=_),"persistent-hint":"",hint:`Selected Anime: ${M(a).gameGuess.anime}`,variant:"solo",flat:"",disabled:n.value,onKeyup:i[1]||(i[1]=F(V(_=>m(),["prevent"]),["enter"])),onBlur:i[2]||(i[2]=V(_=>m(),["prevent"]))},null,8,["items","modelValue","hint","disabled"])]),_:1}),o(G,{cols:"12",sm:"6"},{default:l(()=>[o(X,{label:"Song Title",items:M(s).songTitles,modelValue:u.value.title,"onUpdate:modelValue":i[3]||(i[3]=_=>u.value.title=_),hint:`Selected Song Title: ${M(a).gameGuess.title}`,"persistent-hint":"",variant:"solo",flat:"",disabled:n.value,onKeyup:i[4]||(i[4]=F(V(_=>m(),["prevent"]),["enter"])),onBlur:i[5]||(i[5]=V(_=>m(),["prevent"]))},null,8,["items","modelValue","hint","disabled"])]),_:1})]),_:1}))}}),Ze={class:"player-name"},Xe={class:"player-score"},et=E({__name:"MainGameWindowPlayers",setup(c){const s=W();let a;const n=f(!1),u=f("150");function m(d){return`${d.guess.anime||"..."} - ${d.guess.title||"..."}`}function r(){n.value&&(n.value=!1),n.value=!0,a=setTimeout(()=>{n.value=!1,clearTimeout(a)},8e3)}function i(d){return d.admin?"warning":d.host?"primary":"info"}function _(d){return d.skipSong?"success":"error"}function p(d){return d.skipSong?"mdi-check":"mdi-close"}return e.on(t.GAME_NEW_ROUND,()=>{n.value=!1}),e.on(t.GAME_SHOW_GUESS,()=>{r()}),N(()=>{e.off(t.GAME_NEW_ROUND),e.off(t.GAME_SHOW_GUESS),clearTimeout(a)}),(d,T)=>(v(),S(g,{justify:"center",dense:!0},{default:l(()=>[(v(!0),U(k,null,x(M(s).playerList,A=>(v(),S(G,{cols:"auto"},{default:l(()=>[o(_e,{location:"top","open-on-hover":!1,modelValue:n.value,"onUpdate:modelValue":T[0]||(T[0]=$=>n.value=$)},{activator:l(()=>[o(D,{rounded:"lg",width:u.value},{default:l(()=>[o(g,{justify:"center",dense:!0},{default:l(()=>[o(ae,{avatar:A.avatar,size:u.value,rounded:"t-lg b-0"},null,8,["avatar","size"])]),_:2},1024),o(g,{justify:"space-between","no-gutters":"",dense:!0},{default:l(()=>[o(G,{cols:"12"},{default:l(()=>[w("div",Ze,y(A.displayName),1)]),_:2},1024),o(G,{cols:"auto"},{default:l(()=>[o(ee,{color:i(A),size:"x-small",icon:"mdi-circle"},null,8,["color"])]),_:2},1024),o(G,{cols:"auto"},{default:l(()=>[w("div",Xe,y(A.score),1)]),_:2},1024),o(G,{cols:"auto"},{default:l(()=>[o(ee,{color:_(A),size:"x-small",icon:p(A)},null,8,["color","icon"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["width"])]),default:l(()=>[o(D,{class:"player-guess",color:A.scoreColor},{default:l(()=>[h(y(m(A)),1)]),_:2},1032,["color"])]),_:2},1032,["modelValue"])]),_:2},1024))),256))]),_:1}))}}),tt=O(et,[["__scopeId","data-v-c8effe0d"]]),at=E({__name:"LoadingCircle",props:{color:{type:String,required:!0}},setup(c){const s=f(!1);return e.on(t.GAME_NEW_ROUND,()=>{s.value=!1}),e.on(t.GAME_START_LOAD,()=>{s.value=!0}),e.on(t.GAME_START_COUNTDOWN,()=>{s.value=!1}),e.on(t.GAME_SHOW_GUESS,()=>{s.value=!1}),e.on(t.STOP_GAME,()=>{s.value=!1}),N(()=>{e.off(t.GAME_NEW_ROUND),e.off(t.GAME_START_LOAD),e.off(t.GAME_START_COUNTDOWN),e.off(t.GAME_SHOW_GUESS),e.off(t.STOP_GAME)}),(a,n)=>q((v(),S(le,{size:"150",width:"20",indeterminate:"",color:c.color,class:"loading-spinner"},null,8,["color"])),[[Q,s.value]])}}),nt=O(at,[["__scopeId","data-v-cdac53d9"]]),ot=c=>(re("data-v-c90922b4"),c=c(),ie(),c),st=["muted","src","currentTime","volume"],lt=ot(()=>w("media-provider",null,null,-1)),ut=[lt],rt=E({__name:"VideoPlayer",emits:["update:loading-color"],setup(c,{emit:s}){let a;const n=W(),u=ue(),m=s,r=f(null),i=f(!1),_=f(!1),p=f(0),d=f(0),T=f(!1),A=f(0),$=f(0),H=f(!1);async function ce(){await P(()=>{r.value.pause(),i.value=!1}),await P(()=>{e.emit(t.GAME_SONG_LOADED),m("update:loading-color","success")}),console.log("countdown not started, player ready to begin round")}async function fe(){await P(()=>{i.value=!1}),console.log("countdown already started, video will continue to play")}async function de(){if(console.log("starting position updated"),H.value){await fe();return}await ce()}function me(C){p.value=C.detail.currentTime}function ve(C){d.value=C.detail}function pe(){return _.value?{opacity:"1"}:{opacity:"0"}}function Se(){const C=Math.floor(d.value-$.value);return C>0?Math.floor(A.value*C):0}function Ee(){console.log("video loaded, updating starting position"),r.value.play(),p.value=Se()}function Ae(){clearInterval(a),a=setInterval(()=>{T.value&&d.value!==-1&&(Ee(),clearInterval(a))},500)}return e.on(t.GAME_NEW_ROUND,()=>{console.log("new game round"),clearInterval(a),i.value=!0,_.value=!1,T.value=!1,d.value=-1,H.value=!1}),e.on(t.GAME_START_LOAD,async(C,I)=>{console.log("loading video"),clearInterval(a),i.value=!0,A.value=C,$.value=I,H.value=!1,Ae()}),e.on(t.GAME_START_COUNTDOWN,async()=>{console.log("starting countdown"),i.value=!1,H.value=!0,r.value.play()}),e.on(t.GAME_SHOW_GUESS,()=>{console.log("time is up"),_.value=!0,i.value=!1,H.value=!0}),e.on(t.STOP_GAME,()=>{clearInterval(a),r.value.pause(),H.value=!1}),N(()=>{clearInterval(a),e.off(t.GAME_NEW_ROUND),e.off(t.GAME_START_LOAD),e.off(t.GAME_START_COUNTDOWN),e.off(t.GAME_SHOW_GUESS),e.off(t.STOP_GAME)}),(C,I)=>(v(),U("media-player",{ref_key:"player",ref:r,muted:i.value,src:M(n).currentSong.currentSongSrc,currentTime:p.value,volume:M(u).volume/100,onTimeUpdate:I[0]||(I[0]=R=>me(R)),onDurationChange:I[1]||(I[1]=R=>ve(R)),onCanPlay:I[2]||(I[2]=R=>T.value=!0),onSeeked:I[3]||(I[3]=R=>de()),style:oe(pe()),load:"eager"},ut,44,st))}}),it=O(rt,[["__scopeId","data-v-c90922b4"]]),_t=E({__name:"CountdownTimer",setup(c){let s;const a=f(!1),n=f(0),u=f(0);function m(){s=setInterval(()=>{u.value<=0&&clearInterval(s),u.value-=1},1e3)}function r(){return(1-u.value/n.value)*100}function i(){const _=r();return _>=75?"error":_>=50?"warning":"success"}return e.on(t.GAME_NEW_ROUND,()=>{a.value=!1}),e.on(t.GAME_START_LOAD,(_,p)=>{a.value=!1,n.value=p,u.value=p}),e.on(t.GAME_START_COUNTDOWN,()=>{a.value=!0,m()}),e.on(t.GAME_SHOW_GUESS,()=>{a.value=!1,clearInterval(s)}),e.on(t.STOP_GAME,()=>{a.value=!1,clearInterval(s)}),N(()=>{clearInterval(s),e.off(t.GAME_NEW_ROUND),e.off(t.GAME_START_LOAD),e.off(t.GAME_START_COUNTDOWN),e.off(t.GAME_SHOW_GUESS),e.off(t.STOP_GAME)}),(_,p)=>q((v(),S(le,{size:"150",width:"20",class:"countdown-timer","model-value":r(),color:i()},{default:l(()=>[h(y(u.value),1)]),_:1},8,["model-value","color"])),[[Q,a.value]])}}),ct=O(_t,[["__scopeId","data-v-e0646551"]]),ft=c=>(re("data-v-780bd5a5"),c=c(),ie(),c),dt={class:"audio-only-prompt"},mt=ft(()=>w("h1",null,"Audio Only",-1)),vt=[mt],pt=E({__name:"AudioOnlyPrompt",setup(c){const s=ue(),a=W(),n=f(!1);return e.on(t.GAME_NEW_ROUND,()=>{n.value=!1}),e.on(t.GAME_SHOW_GUESS,()=>{s.audioOnly&&a.currentSong.audioSrc===a.currentSong.currentSongSrc&&(n.value=!0)}),e.on(t.STOP_GAME,()=>{n.value=!1}),N(()=>{e.off(t.GAME_NEW_ROUND),e.off(t.GAME_SHOW_GUESS),e.off(t.STOP_GAME)}),(u,m)=>q((v(),U("div",dt,vt,512)),[[Q,n.value]])}}),St=O(pt,[["__scopeId","data-v-780bd5a5"]]),Et=E({__name:"MainGameVideoWindow",setup(c){const s=f("primary");return e.on(t.GAME_NEW_ROUND,()=>{s.value="primary"}),N(()=>{e.off(t.GAME_NEW_ROUND)}),(a,n)=>(v(),S(G,{cols:"12",sm:"6"},{default:l(()=>[o(g,{justify:"center"},{default:l(()=>[o(D,{class:"video-container"},{default:l(()=>[o(St),o(nt,{color:s.value},null,8,["color"]),o(ct),o(it,{"onUpdate:loadingColor":n[0]||(n[0]=u=>s.value=u)})]),_:1})]),_:1})]),_:1}))}}),At=O(Et,[["__scopeId","data-v-d6656505"]]),Gt=E({__name:"MainGameSongInfo",setup(c){const s=W(),a=f(!1),n=f(!1);e.on(t.GAME_SHOW_LIFE_LINE,i=>{j.parse(i)==="SONG_HINT"&&(n.value=!0)});const u=L(()=>n.value?se(s.currentSong.songTitle):a.value?s.currentSong.songTitle:"?"),m=L(()=>a.value||n.value?s.currentSong.artist||"":"?"),r=L(()=>a.value||n.value?s.currentSong.type:"?");return e.on(t.GAME_NEW_ROUND,()=>{a.value=!1,n.value=!1}),e.on(t.GAME_SHOW_GUESS,()=>{a.value=!0,n.value=!1}),e.on(t.STOP_GAME,()=>{n.value=!1}),N(()=>{e.off(t.GAME_NEW_ROUND),e.off(t.GAME_SHOW_GUESS),e.off(t.STOP_GAME)}),(i,_)=>(v(),S(G,{cols:"12",sm:"3"},{default:l(()=>[o(ne,{variant:"flat"},{default:l(()=>[o(te,{lines:"two"},{default:l(()=>[o(b,{title:"Title",subtitle:u.value},null,8,["subtitle"]),o(b,{title:"Artist",subtitle:m.value},null,8,["subtitle"]),o(b,{title:"Type",subtitle:r.value},null,8,["subtitle"])]),_:1})]),_:1})]),_:1}))}}),Tt=E({__name:"PlayerToolsSkipSong",setup(c){const s=W(),a=f(!0),n=f("warning"),u=f("Vote to skip"),m=f("mdi-skip-forward");function r(){a.value=!0,e.emit(t.GAME_SKIP_SONG,_=>{if(_){n.value="success",u.value="Voted",m.value="mdi-check";return}a.value=!1})}function i(){a.value=!0,u.value="Vote to skip",n.value="warning",m.value="mdi-skip-forward"}return e.on(t.GAME_NEW_ROUND,()=>{i()}),e.on(t.GAME_START_COUNTDOWN,()=>{a.value=!1}),e.on(t.GAME_SHOW_GUESS,()=>{i()}),e.on(t.STOP_GAME,()=>{i()}),N(()=>{e.off(t.GAME_NEW_ROUND),e.off(t.GAME_START_COUNTDOWN),e.off(t.GAME_SHOW_GUESS),e.off(t.STOP_GAME)}),(_,p)=>(v(),S(g,{dense:!0},{default:l(()=>[o(G,null,{default:l(()=>[o(J,{icon:m.value,color:n.value,disabled:a.value||!M(s).playing,onClick:p[0]||(p[0]=d=>r())},{default:l(()=>[h(y(u.value),1)]),_:1},8,["icon","color","disabled"])]),_:1})]),_:1}))}}),Mt=E({__name:"PlayerToolsAnimeHint",setup(c){const s=W(),a=f(!0),n=f(!1);function u(){e.emit(t.GAME_USE_LIFE_LINE,"ANIME_HINT")}return e.on(t.START_GAME,()=>{n.value=!1}),e.on(t.GAME_SHOW_LIFE_LINE,m=>{j.parse(m)==="ANIME_HINT"&&(n.value=!0)}),e.on(t.GAME_NEW_ROUND,()=>{a.value=!0}),e.on(t.GAME_START_COUNTDOWN,()=>{a.value=!1}),e.on(t.GAME_SHOW_GUESS,()=>{a.value=!0}),e.on(t.STOP_GAME,()=>{a.value=!0}),N(()=>{e.off(t.START_GAME),e.off(t.GAME_SHOW_LIFE_LINE),e.off(t.GAME_NEW_ROUND),e.off(t.GAME_START_COUNTDOWN),e.off(t.GAME_SHOW_GUESS),e.off(t.STOP_GAME)}),(m,r)=>(v(),S(g,{dense:!0},{default:l(()=>[o(G,null,{default:l(()=>[o(J,{icon:"mdi-eye-outline",color:"primary",disabled:a.value||n.value||!M(s).playing,onClick:r[0]||(r[0]=i=>u())},{default:l(()=>[h(" Show Anime Hint ")]),_:1},8,["disabled"])]),_:1})]),_:1}))}}),gt=E({__name:"PlayerToolsSongHint",setup(c){const s=W(),a=f(!0),n=f(!1);function u(){e.emit(t.GAME_USE_LIFE_LINE,"SONG_HINT")}return e.on(t.START_GAME,()=>{n.value=!1}),e.on(t.GAME_SHOW_LIFE_LINE,m=>{j.parse(m)==="SONG_HINT"&&(n.value=!0)}),e.on(t.GAME_NEW_ROUND,()=>{a.value=!0}),e.on(t.GAME_START_COUNTDOWN,()=>{a.value=!1}),e.on(t.GAME_SHOW_GUESS,()=>{a.value=!0}),e.on(t.STOP_GAME,()=>{a.value=!0}),N(()=>{e.off(t.START_GAME),e.off(t.GAME_SHOW_LIFE_LINE),e.off(t.GAME_NEW_ROUND),e.off(t.GAME_START_COUNTDOWN),e.off(t.GAME_SHOW_GUESS),e.off(t.STOP_GAME)}),(m,r)=>(v(),S(g,{dense:!0},{default:l(()=>[o(G,null,{default:l(()=>[o(J,{icon:"mdi-eye-outline",color:"info",disabled:a.value||n.value||!M(s).playing,onClick:r[0]||(r[0]=i=>u())},{default:l(()=>[h(" Show Song Hint ")]),_:1},8,["disabled"])]),_:1})]),_:1}))}}),Ot=w("h4",null,"Life Lines:",-1),Nt=E({__name:"MainGamePlayerTools",setup(c){return(s,a)=>(v(),S(G,{cols:"12",sm:"3"},{default:l(()=>[o(Tt),o(g,{dense:!0},{default:l(()=>[o(G,{cols:"auto"},{default:l(()=>[Ot]),_:1})]),_:1}),o(Mt),o(gt)]),_:1}))}}),yt=E({__name:"MainGameWindowViewport",setup(c){return(s,a)=>(v(),S(g,null,{default:l(()=>[o(Nt),o(At),o(Gt)]),_:1}))}}),wt=E({__name:"MainGameWindow",setup(c){return(s,a)=>(v(),S(G,{cols:"7",md:"8"},{default:l(()=>[o(Je),o(yt),o(Ye),o(tt)]),_:1}))}}),Wt=E({__name:"MainGame",setup(c){return(s,a)=>(v(),S(g,{dense:!0},{default:l(()=>[o(wt),o(be)]),_:1}))}});export{Wt as default};
